(this["webpackJsonpdiscord-clone-redux"]=this["webpackJsonpdiscord-clone-redux"]||[]).push([[0],{72:function(e,c,n){},78:function(e,c,n){},79:function(e,c,n){},80:function(e,c,n){},83:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){},91:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(23),i=n.n(t),r=(n(72),n(16)),l=(n(78),n(26)),j=(n(79),n(55)),d=n.n(j),o=n(56),b=n.n(o),h=n(58),u=n.n(h),m=n(57),O=n.n(m),x=(n(80),n(48)),p=n.n(x),f=n(50),v=n.n(f),_=n(51),g=n.n(_),N=n(52),I=n.n(N),S=n(53),y=n.n(S),C=n(54),k=n.n(C),B=n(3);var w=function(e){var c=e.channelName;return Object(B.jsxs)("div",{className:"chatHeader",children:[Object(B.jsx)("div",{className:"chatHeader__left",children:Object(B.jsxs)("h3",{children:[Object(B.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(B.jsxs)("div",{className:"chatHeader__right",children:[Object(B.jsx)(p.a,{}),Object(B.jsx)(v.a,{}),Object(B.jsx)(g.a,{}),Object(B.jsxs)("div",{className:"chatHeader__search",children:[Object(B.jsx)("input",{type:"text",placeholder:"search"}),Object(B.jsx)(I.a,{})]}),Object(B.jsx)(y.a,{}),Object(B.jsx)(k.a,{})]})]})},z=(n(83),n(107));var D=function(e){var c=e.timestamp,n=e.user,a=e.message;return Object(B.jsxs)("div",{className:"message",children:[Object(B.jsx)(z.a,{src:n.photo}),Object(B.jsxs)("div",{className:"message__info",children:[Object(B.jsxs)("h4",{children:[n.displayName,Object(B.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(B.jsx)("p",{children:a})]})]})},H=n(30),A=n(28),E=Object(A.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),M=E.actions,J=M.login,P=M.logout,R=function(e){return e.user.user},T=E.reducer,F=Object(A.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),L=F.actions.setChannelInfo,U=function(e){return e.app.channelId},V=function(e){return e.app.channelName},Z=F.reducer,q=H.a.initializeApp({apiKey:"AIzaSyBCAmu_lRX7ZbHcg_pOhwp8BDZBQDDwqB8",authDomain:"discord-jmr-clone.firebaseapp.com",projectId:"discord-jmr-clone",storageBucket:"discord-jmr-clone.appspot.com",messagingSenderId:"489741473472",appId:"1:489741473472:web:aced0ca25875db8da03f25"}).firestore(),G=H.a.auth(),K=new H.a.auth.GoogleAuthProvider,Q=q;var W=function(){var e=Object(r.c)(R),c=Object(r.c)(U),n=Object(r.c)(V),s=Object(a.useState)(""),t=Object(l.a)(s,2),i=t[0],j=t[1],o=Object(a.useState)([]),h=Object(l.a)(o,2),m=h[0],x=h[1];return Object(a.useEffect)((function(){c&&Q.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return x(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(B.jsxs)("div",{className:"chat",children:[Object(B.jsx)(w,{channelName:n}),Object(B.jsx)("div",{className:"chat__messages",children:m.map((function(e){return Object(B.jsx)(D,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(B.jsxs)("div",{className:"chat__input",children:[Object(B.jsx)(d.a,{fontsize:"large"}),Object(B.jsxs)("form",{action:"",children:[Object(B.jsx)("input",{value:i,disabled:!c,onChange:function(e){return j(e.target.value)},type:"text",placeholder:"Message #".concat(n)}),Object(B.jsx)("button",{disabled:!c,className:"chat__inputButton",type:"submit",onClick:function(n){n.preventDefault(),Q.collection("channels").doc(c).collection("messages").add({timestamp:H.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),j("")},children:"Send Message"})]}),Object(B.jsxs)("div",{className:"chat__inputIcons",children:[Object(B.jsx)(b.a,{fontsize:"large"}),Object(B.jsx)(O.a,{fontsize:"large"}),Object(B.jsx)(u.a,{fontsize:"large"})]})]})]})},X=(n(88),n(42)),Y=n.n(X),$=n(59),ee=n.n($),ce=n(60),ne=n.n(ce),ae=n(61),se=n.n(ae),te=n(64),ie=n.n(te),re=n(63),le=n.n(re),je=n(65),de=n.n(je),oe=n(62),be=n.n(oe);n(89);var he=function(e){var c=e.id,n=e.channelName,a=Object(r.b)();return Object(B.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(L({channelId:c,channelName:n}))},children:Object(B.jsxs)("h4",{children:[Object(B.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})};var ue=function(){var e=Object(r.c)(R),c=Object(a.useState)([]),n=Object(l.a)(c,2),s=n[0],t=n[1];return Object(a.useEffect)((function(){Q.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(B.jsxs)("div",{className:"sidebar",children:[Object(B.jsxs)("div",{class:"sidebar__top",children:[Object(B.jsx)("h3",{children:"JMR dev Programmer"}),Object(B.jsx)(Y.a,{})]}),Object(B.jsxs)("div",{className:"sidebar__channels",children:[Object(B.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(B.jsxs)("div",{className:"sidebar__header",children:[Object(B.jsx)(Y.a,{}),Object(B.jsx)("h4",{children:"Text channels"})]}),Object(B.jsx)(ee.a,{onClick:function(){var e=prompt("Enter channel name");e&&Q.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(B.jsx)("div",{className:"sidebar__channelsList",children:s.map((function(e){var c=e.id,n=e.channel;return Object(B.jsx)(he,{id:c,channelName:n.channelName},c)}))})]}),Object(B.jsxs)("div",{className:"sidebar__voice",children:[Object(B.jsx)(ne.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(B.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(B.jsx)("h3",{children:"Voice connected"}),Object(B.jsx)("p",{children:"stream"})]}),Object(B.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(B.jsx)(se.a,{}),Object(B.jsx)(be.a,{})]})]}),Object(B.jsxs)("div",{className:"sidebar__profile",children:[Object(B.jsx)(z.a,{onClick:function(){return G.signOut()},src:e.photo}),Object(B.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(B.jsx)("h3",{children:e.displayName}),Object(B.jsxs)("p",{children:["#",e.uid.substring(0,7)]})]}),Object(B.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(B.jsx)(le.a,{}),Object(B.jsx)(ie.a,{}),Object(B.jsx)(de.a,{})]})]})]})},me=n(106),Oe=n.p+"static/media/logoIcon.5271ea68.svg";n(90);var xe=function(){return Object(B.jsxs)("div",{className:"login",children:[Object(B.jsx)("div",{className:"login__logo",children:Object(B.jsx)("img",{src:Oe,alt:"logo"})}),Object(B.jsx)(me.a,{onClick:function(){G.signInWithPopup(K).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var pe=function(){var e=Object(r.b)(),c=Object(r.c)(R);return Object(a.useEffect)((function(){G.onAuthStateChanged((function(c){e(c?J({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):P())}))}),[e]),Object(B.jsx)("div",{className:"app",children:c?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ue,{}),Object(B.jsx)(W,{})]}):Object(B.jsx)(xe,{})})},fe=Object(A.a)({reducer:{user:T,app:Z}});i.a.render(Object(B.jsx)(s.a.StrictMode,{children:Object(B.jsx)(r.a,{store:fe,children:Object(B.jsx)(pe,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.794c99c8.chunk.js.map